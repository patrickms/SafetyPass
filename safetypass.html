<html>
<head>
<script src="//crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js"></script>
</head>
<body>

    <form>
        Domain: <input id="domain" type="text" name="domain"><br>
        Master Password: <input id="masterpass" type="password" name="masterpass"><br>
        Domain Specific Password: <input id="domainpass" type="text" name="domainpass">
        <input type="button" value="Generate Password" onclick="javascript: genPass();"/>
    </form>
<script>
    var hash = CryptoJS.MD5("Message");
    var PARENT_DOMAIN=""
    //alert("Message: "+hash)
    window.parent.postMessage("Which Domain?","*");
    //alert('sent');
    window.addEventListener("message", receiveMessage, false);

    function receiveMessage(event)
    {
        document.getElementById("domain").value=event.data;
        
          // ...
    }
    
    function genPass()
    {
        var hash = CryptoJS.MD5(document.getElementById("domain").value + " " + document.getElementById("masterpass"));
        document.getElementById("genPass").value=hash.toString();
    }
    

</script>
</body>
</html>
